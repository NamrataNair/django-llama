import{B as x,o,c as u,m as _,s as b,a as z,_ as I,b as m,d as T,r as d,e as k,f as N,g as s,u as g,t as R,h as f,i as E,n as w}from"./index-b070d0e6.js";var M=`
@layer primevue {
    .p-inputtextarea-resizable {
        overflow: hidden;
        resize: none;
    }

    .p-fluid .p-inputtextarea {
        width: 100%;
    }
}
`,P={root:function(t){var i=t.instance,a=t.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":i.filled,"p-inputtextarea-resizable ":a.autoResize}]}},A=x.extend({name:"textarea",css:M,classes:P}),B={name:"BaseTextarea",extends:b,props:{modelValue:null,autoResize:Boolean},style:A,provide:function(){return{$parentInstance:this}}},S={name:"Textarea",extends:B,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(t){this.autoResize&&this.resize(),this.$emit("update:modelValue",t.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},U=["value"];function D(e,t,i,a,c,n){return o(),u("textarea",_({class:e.cx("root"),value:e.modelValue,onInput:t[0]||(t[0]=function(){return n.onInput&&n.onInput.apply(n,arguments)})},e.ptm("root",n.ptmParams),{"data-pc-name":"textarea"}),null,16,U)}S.render=D;const H={class:"inline-block align-middle",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},O=z('<circle cx="12" cy="2" r="0" fill="currentColor"><animate attributeName="r" begin="0" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(45 12 12)"><animate attributeName="r" begin="0.125s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(90 12 12)"><animate attributeName="r" begin="0.25s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(135 12 12)"><animate attributeName="r" begin="0.375s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(180 12 12)"><animate attributeName="r" begin="0.5s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(225 12 12)"><animate attributeName="r" begin="0.625s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(270 12 12)"><animate attributeName="r" begin="0.75s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle><circle cx="12" cy="2" r="0" fill="currentColor" transform="rotate(315 12 12)"><animate attributeName="r" begin="0.875s" calcMode="spline" dur="1s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" repeatCount="indefinite" values="0;2;0;0"></animate></circle>',8),j=[O];function L(e,t){return o(),u("svg",H,[...j])}const Y={name:"eos-icons-bubble-loading",render:L},q={},F={class:"flex items-center justify-center"};function X(e,t){const i=Y;return o(),u("div",F,[m(i)])}const G=I(q,[["render",X]]);var J={root:function(t){var i=t.instance,a=t.props;return["p-inputtext p-component",{"p-filled":i.filled,"p-inputtext-sm":a.size==="small","p-inputtext-lg":a.size==="large"}]}},Z=x.extend({name:"inputtext",classes:J}),K={name:"BaseInputText",extends:b,props:{modelValue:null,size:{type:String,default:null}},style:Z,provide:function(){return{$parentInstance:this}}},y={name:"InputText",extends:K,emits:["update:modelValue"],methods:{onInput:function(t){this.$emit("update:modelValue",t.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Q=["value"];function W(e,t,i,a,c,n){return o(),u("input",_({class:e.cx("root"),value:e.modelValue,onInput:t[0]||(t[0]=function(){return n.onInput&&n.onInput.apply(n,arguments)})},e.ptm("root",n.ptmParams),{"data-pc-name":"inputtext"}),null,16,Q)}y.render=W;const ee={class:"w-full flex justify-center p-5"},te={class:"flex flex-col max-w-[45rem]"},ne=s("div",{class:"text-xl"},"Commercial Email Writer",-1),se={class:"mt-5"},ie={class:"p-float-label"},ae=s("label",{for:"username"},"Theme",-1),re={class:"mt-3"},le={class:"flex flex-col max-w-[45rem]"},oe={class:"pt-8"},ue={class:"p-float-label"},ce=s("label",{for:"prompt"},"Prompt",-1),pe={class:"pt-5 text-center"},de=["disabled"],me={key:0},fe={key:1},he={class:"mt-8 text-justify"},ve=["innerHTML"],ge=`<s>[INST] <<SYS>>
Vous êtes Vigogne, un assistant IA créé par Zaion Lab. Vous suivez extrêmement bien les instructions. Aidez autant que vous le pouvez.
<</SYS>>

You are a marketing manager. Write an email based on the topic/subject below. 
{prompt} [/INST]`,_e=T({__name:"DemoView",setup(e){const t=d(``),i=d("ML Ops"),a=d(""),c=d(""),n=k({isRunning:!1,isStreaming:!1});let h=0;const $=r=>{console.log(">>",r),w(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),h==0&&(n.isStreaming=!0),r.num==1&&(n.isStreaming=!0),c.value+=r,++h},v=new AbortController;async function C(){c.value="",n.isRunning=!0;let r=ge.replace("{theme}",i.value);r=r.replace("{prompt}",t.value),await E.postSse("/llm/generate/",{prompt:r,params:{temperature:.2,max_tokens:-1}},$,v,!1,!1,!0,!1),n.isStreaming=!1,n.isRunning=!1}function V(){v.abort(),n.isStreaming=!1,n.isRunning=!1}return N(()=>a.value=""),(r,l)=>(o(),u("div",ee,[s("div",te,[ne,s("div",se,[s("span",ie,[m(g(y),{id:"theme",type:"text",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=p=>i.value=p)},null,8,["modelValue"]),ae])]),s("div",null,[s("div",re," You are a Marketting Director. Help me write an email on the following topic : ",1)]),s("div",le,[s("div",oe,[s("span",ue,[m(g(S),{id:"prompt",modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=p=>t.value=p),rows:"5",class:"w-full",autoResize:""},null,8,["modelValue"]),ce])]),s("div",pe,[n.isStreaming?f("",!0):(o(),u("button",{key:0,class:"w-full btn secondary",onClick:l[2]||(l[2]=p=>C()),disabled:n.isRunning==!0||t.value.length==0},"Envoyer",8,de))]),n.isRunning==!0&&n.isStreaming==!1?(o(),u("div",me,[m(G,{class:"pt-16 text-6xl txt-lighter"})])):f("",!0),n.isStreaming==!0?(o(),u("div",fe,[s("button",{class:"btn danger",onClick:l[3]||(l[3]=p=>V())},"Stop")])):f("",!0),s("div",he,[s("div",{innerHTML:c.value.replaceAll(`
`,"<br />").replaceAll("	","  ")},null,8,ve)])])])]))}});export{_e as default};
